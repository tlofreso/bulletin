name: Mass time runner
run-name: Extract masstimes from parish bulletins ⛪️
on: [push, workflow_dispatch]
env:
  OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
  BULLETIN_ASSISTANT_ID: ${{ secrets.BULLETIN_ASSISTANT_ID }}
  NOTION_API_KEY: ${{ secrets.NOTION_API_KEY }}
  PARISH_DB_ID: ${{ secrets.PARISH_DB_ID }}
jobs:
  Masstime-Extractor:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Python
        run: |
          pip install -r requirements.txt
          pip list
          pwd
          ls -la
      - name: Run Main
        run: |
          python main.py -avd
